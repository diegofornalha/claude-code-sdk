[pytest]
# Pytest Configuration para Neo4j Agent API

# Diretórios de teste
testpaths = tests

# Padrão de arquivos de teste
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Marcadores customizados
markers =
    unit: Testes unitários (funções isoladas)
    integration: Testes de integração (múltiplos componentes)
    e2e: Testes end-to-end (fluxo completo)
    slow: Testes lentos (>5s)
    websocket: Testes de WebSocket
    api: Testes de endpoints API
    neo4j: Testes que requerem Neo4j
    performance: Testes de carga e performance
    security: Testes de segurança

# Opções de execução
addopts =
    -v
    --strict-markers
    --tb=short
    --cov=core
    --cov=server
    --cov=utils
    --cov-report=html
    --cov-report=term-missing
    --cov-fail-under=80
    -p no:warnings

# Asyncio
asyncio_mode = auto

# Timeout padrão
timeout = 30

# Ordem de execução
# unit > integration > e2e